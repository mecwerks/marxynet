<!doctype html>
<html lang="{{ site.lang | default: 'en-US' }}">
   <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="chrome=1">
      {% seo %}
      <link href='https://fonts.googleapis.com/css?family=Lato:300italic,700italic,300,700' rel='stylesheet' type='text/css'>
      <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
      <script src="{{ '/assets/js/scale.fix.js' | relative_url }}"></script>
      <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
      <script src="{{ '/assets/js/sorttable.js' | relative_url }}"></script>
      <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
      <![endif]-->
   </head>
   <body>
      {% assign SteamID = page.SteamID | downcase %}
      {% assign myMatches = site.data.matches | where_exp:"item", "item.SteamIDs contains SteamID" %}
      <!-- Generate Player Data -->
      {% assign TotalRounds = 0 %}
      {% assign Kills = 0 %}
      {% assign Assists = 0 %}
      {% assign Deaths = 0 %}
      {% assign KASTRounds = 0 %}
      {% assign DamageDealt = 0 %}
      {% assign Headshots = 0 %}
      {% assign Plants = 0 %}
      {% assign Defuses = 0 %}
      {% assign MVPs = 0 %}
      {% assign TeamKills = 0 %}
      {% assign AWPKills = 0 %}
      {% assign FirstKills = 0 %}
      {% assign FirstDeaths = 0 %}
      {% assign 1KRounds = 0 %}
      {% assign 2KRounds = 0 %}
      {% assign 3KRounds = 0 %}
      {% assign 4KRounds = 0 %}
      {% assign 5KRounds = 0 %}
      {% assign matchidstring = "" %}
      {% assign RoundsWon = 0 %}
      {% for match in myMatches %}			
        {% assign player = match.Players[SteamID] %}
        {% assign TotalRounds = TotalRounds | plus: match.TotalRounds %}
        {% assign Kills = Kills | plus: player.Kills %}
        {% assign Assists = Assists | plus: player.Assists %}
        {% assign Deaths = Deaths | plus: player.Deaths %}
        {% assign KASTRounds = KASTRounds | plus: player.KASTRounds %}
        {% assign DamageDealt = DamageDealt | plus: player.DamageDealt %}
        {% assign Headshots = Headshots | plus: player.Headshots %}
        {% assign Plants = Plants | plus: player.Plants %}
        {% assign Defuses = Defuses | plus: player.Defuses %}
        {% assign MVPs = MVPs | plus: player.MVPs %}
        {% assign TeamKills = TeamKills | plus: player.TeamKills %}
        {% assign AWPKills = AWPKills | plus: player.AWPKills %}
        {% assign FirstKills = FirstKills | plus: player.FirstKills %}
        {% assign FirstDeaths = FirstDeaths | plus: player.FirstDeaths %}
        {% assign OneKRounds = OneKRounds | plus: player.KillPerRound["1"] %}
        {% assign TwoKRounds = TwoKRounds | plus: player.KillPerRound["2"] %}
        {% assign ThreeKRounds = ThreeKRounds | plus: player.KillPerRound["3"] %}
        {% assign FourKRounds = FourKRounds | plus: player.KillPerRound["4"] %}
        {% assign FiveKRounds = FiveKRounds | plus: player.KillPerRound["5"] %}
        {% assign matchidstring = matchidstring | append: match.UID | append: "," %}
      {% endfor %}
      {% assign TotalRounds = TotalRounds | times: 1.0 %}
      {% assign Kills = Kills | times: 1.0 %}
      {% assign Headshots = Headshots | times: 1.0 %}
      {% assign matchids = matchidstring | split: "," %}
      <!-- End Generate Player Data -->
      <div class="wrapper">
         <header {% unless site.description or site.github.project_tagline %} class="without-description" {% endunless %}>
         <div style="clear: both">
            <h1 style="float: left">{{myMatches[0].Players[SteamID].Name}}</h1>
         </div>
         <br/>
         <br/>
         {% if site.description or site.github.project_tagline %}
         <p>{{ site.description | default: site.github.project_tagline }}</p>
         {% endif %}
         </header>
         <section>
            <button class="accordion">Matches</button>
            <div class="panel">
               <ul>
                  {% for matchid in matchids %}
                    <li><a href="/matches/{{matchid}}.html">{{matchid}}</a>
                  {% endfor %}
               </ul>
            </div>
            <br>
            <table style="float: left" id="table_{{page.SteamID}}_1" class="halfTable">
               <tr>
                  <th style="text-align: center">Kills</th>
                  <!-- Kills -->				
                  <td markdown="span" style="text-align: center">{{Kills | default: 0 | round: 0 }}</td>
               </tr>
               <tr>
                  <th style="text-align: center">Assists</th>
                  <!-- Assists -->
                  <td markdown="span" style="text-align: center">{{Assists | default: 0 }}</td>
               </tr>
               <tr>
                  <th style="text-align: center">Deaths</th>
                  <!-- Deaths -->
                  <td markdown="span" style="text-align: center">{{Deaths | default: 0 }}</td>
               </tr>
               <tr>
                  <th style="text-align: center">KAST %</th>
                  <!-- KAST % -->
                  {% if TotalRounds == 0 %}
                    {% assign KASTPercentage = 0 %}
                  {% else %}
                    {% assign KASTPercentage = KASTRounds | divided_by: TotalRounds | times: 100 | round: 2 %}
                  {% endif %}
                  <td markdown="span" style="text-align: center">{{KASTPercentage}}%</td>
               </tr>
               <tr>
                  <th style="text-align: center">ADR</th>
                  <!-- ADR -->
                  {% if TotalRounds == 0 %}
                    {% assign ADR = 0 %}
                  {% else %}
                    {% assign ADR = DamageDealt | divided_by: TotalRounds | round: 2 %}
                  {% endif %}
                  <td markdown="span" style="text-align: center">{{ADR}}</td>
               </tr>
               <tr>
                  <th style="text-align: center">KD Diff</th>
                  <!-- K/D Diff -->
                  {% assign kdDiff = Kills | minus: Deaths %}
                  {% if kdDiff > 0 %}
                    {% assign kdDiffClass = "kdDiffPositive" %}
                    {% assign kdSign = "+" %}
                  {% elsif kdDiff < 0 %}
                    {% assign kdDiffClass = "kdDiffNegative" %}
                    {% assign kdSign = "" %}
                  {% else %}
                    {% assign kdDiffClass = "kdDiffNone" %}
                    {% assign kdSign = "" %}
                  {% endif %}
                  <td markdown="span" style="text-align: center" class={{kdDiffClass}}>{{kdSign}}{{kdDiff | default: 0}}</td>
               </tr>
               <tr>
                  <th style="text-align: center">Headshot %</th>
                  <!-- Headshots % -->
                  {% if Kills == 0 %}
                    {% assign HSPercentage = 0 %}
                  {% else %}
                    {% assign HSPercentage = Headshots | divided_by: Kills | times: 100 | round: 2 %}
                  {% endif %}
                  <td markdown="span" style="text-align: center">{{HSPercentage}}%</td>
               </tr>
               <tr>
                  <th style="text-align: center">Plants</th>
                  <!-- Plants -->
                  <td markdown="span" style="text-align: center">{{Plants | default :0}}</td>
               </tr>
               <tr>
                  <th style="text-align: center">Defuses</th>
                  <!-- Defuses -->
                  <td markdown="span" style="text-align: center">{{Defuses | default: 0}}</td>
               </tr>
               <tr>
                  <th style="text-align: center">MVPs</th>
                  <!-- MVPs -->
                  <td markdown="span" style="text-align: center">{{MVPs | default: 0}}</td>
               </tr>
            </table>
            <table id="table_{{SteamID}}_2" class="halfTable">
               <tr>
                  <th style="text-align: center">Team Kills</th>
                  <!-- TKs -->
                  <td markdown="span" style="text-align: center">{{TeamKills | default: 0}}</td>
               </tr>
               <tr>
                  <th style="text-align: center">AWP Kills</th>
                  <!-- AWP Kills -->
                  <td markdown="span" style="text-align: center">{{AWPKills | default: 0}}</td>
               </tr>
               <tr>
                  <th style="text-align: center">Damage Dealt</th>
                  <!-- Damage Dealt -->
                  <td markdown="span" style="text-align: center">{{DamageDealt | default: 0}}</td>
               </tr>
               <tr>
                  <th style="text-align: center">First Kills</th>
                  <!-- First Kills -->
                  <td markdown="span" style="text-align: center">{{FirstKills | default: 0}}</td>
               </tr>
               <tr>
                  <th style="text-align: center">First Deaths</th>
                  <!-- First Deaths -->
                  <td markdown="span" style="text-align: center">{{FirstDeaths | default: 0}}</td>
               </tr>
               <tr>
                  <th style="text-align: center">1K Rounds</th>
                  <!-- 1Ks -->
                  <td markdown="span" style="text-align: center">{{OneKRounds | default:"0"}}</td>
               </tr>
               <tr>
                  <th style="text-align: center">2K Rounds</th>
                  <!-- 2Ks -->
                  <td markdown="span" style="text-align: center">{{TwoKRounds | default:"0"}}</td>
               </tr>
               <tr>
                  <th style="text-align: center">3K Rounds</th>
                  <!-- 3Ks -->
                  <td markdown="span" style="text-align: center">{{ThreeKRounds | default:"0"}}</td>
               </tr>
               <tr>
                  <th style="text-align: center">4K Rounds</th>
                  <!-- 4Ks -->
                  <td markdown="span" style="text-align: center">{{FourKRounds | default:"0"}}</td>
               </tr>
               <tr>
                  <th style="text-align: center">5K Rounds</th>
                  <!-- 5Ks -->
                  <td markdown="span" style="text-align: center">{{FiveKRounds | default:"0"}}</td>
               </tr>
            </table>
            {{ content }}
         </section>
      </div>
      <footer>
         {% if site.github.is_project_page %}
         <p>Project maintained by <a href="{{ site.github.owner_url }}">{{ site.github.owner_name }}</a></p>
         {% endif %}
         <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
      </footer>
      <script>
         var acc = document.getElementsByClassName("accordion");
         var i;
         
         for (i = 0; i < acc.length; i++) {
           acc[i].addEventListener("click", function() {
             this.classList.toggle("active");
             var panel = this.nextElementSibling;
             if (panel.style.maxHeight){
               panel.style.maxHeight = null;
             } else {
               panel.style.maxHeight = panel.scrollHeight + "px";
             } 
           });
         }
      </script>   <!--[if !IE]><script>fixScale(document);</script><![endif]-->
      {% if site.google_analytics %}
      <script type="text/javascript">
         (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
         (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
         m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
         })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
         ga('create', '{{ site.google_analytics }}', 'auto');
         ga('send', 'pageview');
      </script>
      {% endif %}
   </body>
</html>