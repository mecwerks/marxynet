---
layout: default
type: Match
---
<style>
#matchHeaderContainer {
  background-image: url("/assets/images/maps/{{page.Map}}.jpg");
  -moz-background-size: 100% auto;
  -o-background-size: 100% auto;
  -webkit-background-size: 100% auto; 
  background-size: 100% auto;
  background-position: center; 
  border-radius: 8px;
}
#matchHeaderStats {
  background-color: rgba(255, 255, 255, 0.65);
  border-radius: 8px;
}
#teamAHeader, #teamBHeader {
  margin-top: 30px;
  margin-bottom: 30px;
}
#mapName {
  margin-top: 15px;
}
</style>
<header id="matchHeaderContainer">
  <div align="center" id="matchHeaderStats">
    {% if page.TeamA.RoundWins > page.TeamB.RoundWins %} 
      {% assign scoreAClass = "scoreWinner"%} 
      {% assign scoreBClass = "scoreLoser" %} 
    {% elsif page.TeamA.RoundWins < page.TeamB.RoundWins%} 
      {% assign scoreAClass="scoreLoser" %} 
      {% assign scoreBClass="scoreWinner" %} 
    {% else %} 
      {% assign scoreAClass="scoreTie" %} 
      {% assign scoreBClass="scoreTie" %} 
    {% endif %} 
    <div id="teamAHeader">
      <h2>{{ page.TeamA.Name | default: "Team A" }}</h2>
      <span style="font-size: 24px;font-weight:bold;" class="{{scoreAClass}}">{{page.TeamA.RoundWins}}</span>
    </div>
    <div id="teamStatsHeader">
      <h1 id="mapName">{{page.Map}}</h1>
      <br>
      {% assign monthString = page.Year | append: "-" | append: page.Month | append: "-" | append: page.Day | append: "T" | append: page.Hour | append: ":00:00" %}
      <h3>{{monthString | date: "%H"}}:00</h3>
      {{monthString | date: "%B "}}
        {% assign d = monthString | date: "%-d" %}
        {% case d %}
          {% when "1" or "21" or "31" %}{{ d }}st
          {% when "2" or "22" %}{{ d }}nd
          {% when "3" or "23" %}{{ d }}rd
          {% else %}{{ d }}th
        {% endcase %} 
        {{monthString | date: ", %Y"}}
    </div>
    <div id="teamBHeader">
      <h2>{{ page.TeamB.Name | default: "Team B" }}</h2>
      <span style="font-size: 24px;font-weight:bold;" class="{{scoreBClass}}">{{page.TeamB.RoundWins}}</span>
    </div>
  </div>
</header>	  
{% assign rounds = page.Rounds %}
{% include teamstattable.html totalRounds=rounds players=page.Players teamIDs=page.TeamA.SteamIDs teamname=page.TeamA.Name %}
{% include teamstattable.html totalRounds=rounds players=page.Players teamIDs=page.TeamB.SteamIDs teamname=page.TeamB.Name %}

<div align="center">
  <table id="matrix" class="row-border hover order-column">
    <thead>
      <tr class="header" id="ignoreglobal">
        <th></th>
        {% for teamBPlayer in page.TeamB.SteamIDs %}
          {% assign teamBPlayerID = teamBPlayer | downcase %}
          {% assign uid = page.Players[teamBPlayerID].UID %}
          {% assign name = page.Players[teamBPlayerID].Name %}
          <th class="col" style="text-align: center"><a href="/players/{{uid}}">{{name}}</a></th>
        {% endfor %}
      </tr>
    </thead>
    <tbody>
      {% for teamAPlayer in page.TeamA.SteamIDs %}
          {% assign teamAPlayerID = teamAPlayer | downcase %}
          {% assign uid = page.Players[teamAPlayerID].UID %}
          {% assign name = page.Players[teamAPlayerID].Name %}
          <tr id="ignoreglobal">
          <th class="row" style="text-align: right"><a href="/players/{{uid}}">{{name}}</a></th>
          {% for teamBPlayer in page.TeamB.SteamIDs %}
            {% assign teamBPlayerID = teamBPlayer | downcase %}
            <td style="text-align: center">{{page.Players[teamAPlayerID].KilledPlayers[teamBPlayerID] | default: 0}} : {{page.Players[teamBPlayerID].KilledPlayers[teamAPlayerID] | default: 0}}</td>
          {% endfor %}
        </tr>
      {% endfor %}
    </tbody>
  </table>
  </div>
  <br>
  <div align="center">
  <table class="halfTable row-border hover order-column">
    {% for award in page.Awards %}
    <tr>
        <th style="text-align: center" class="tooltip">{{award.Title}}<span class="tooltiptext">{{award.Description}}</span></th>
        {% if award.UID == empty %}
          <td style="text-align: center">N/A</td>
        {% else %}
          <td style="text-align: center"><a href="/players/{{award.UID}}">{{ award.Name | default: "N/A" }}</a></td>
        {% endif %}
    </tr>
    {% endfor %}
  </table>
</div> 
<script>
  var table = $('#awardTable').DataTable(
    {
      "paging":   false,
      "ordering": false,
      "info":     false,
      "searching":   false
    }
  );
</script>
<script>
$(document).ready(function() {
  var table = $('#matrix').DataTable(
    {
      "paging":   false,
      "ordering": false,
      "info":     false,
      "searching":   false
    }
  );
  
  $('#matrix tbody')
      .on( 'mouseenter', 'td', function () {
          var colIdx = table.cell(this).index().column;
          var rowIdx = table.cell(this).index().row;

          $( table.column( colIdx ).nodes() ).addClass( 'highlight' );
          $( table.row( rowIdx ).nodes() ).addClass( 'highlight' );
      } ).on('mouseleave', 'td', function () {
          $( table.cells().nodes() ).removeClass( 'highlight' );
          $( table.rows().nodes() ).removeClass( 'highlight' );
      });
} );
</script>
